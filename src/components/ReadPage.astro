---
import { readConfig } from '@/site-config'
import PageLayout from '@/layouts/BaseLayout.astro'
import RecordCard from '@/components/RecordCard.astro'
import { getCurrentLocale } from '@/utils/locale'
import type { Locale } from '@/types'

interface Props {
  locale?: Locale
}

const { locale: propLocale } = Astro.props
const currentLocale = propLocale || getCurrentLocale(Astro.url)
const readItems = readConfig[currentLocale]

// 根据语言显示不同的评分文本
const scoreText = currentLocale === 'zh-cn' ? '评分' : 'Score'
---

<PageLayout meta={{}}>
	<div class='flex w-full flex-col gap-y-10'>
		{
      readItems.map((item) => (
        <RecordCard
          heading={item.title}
          subheading={item.description}
          date={`${scoreText}: ${item.score}/10`}
          href={item.link}
          target="_blank"
        />
      ))
    }
	</div>
</PageLayout>
