---
import PageLayout from '@/layouts/BaseLayout.astro'
import NowLayout from '@/components/NowLayout.astro'
import { getLocalizedNowConfig, getI18nText, getCurrentLocale } from '@/utils/locale'
import type { Locale } from '@/types'

interface Props {
	locale?: Locale
}

const { locale: propLocale } = Astro.props
const currentLocale = propLocale || getCurrentLocale(Astro.url)
const nowConfig = getLocalizedNowConfig(currentLocale)

---

<PageLayout meta={{}}>
	<div class="w-full py-2">
		<div class="mb-8">
			<h2 class="text-2xl font-bold mb-2 text-gray-900 dark:text-gray-100">{getI18nText('sections.now', currentLocale)}</h2>
			<p class="text-gray-600 dark:text-gray-400">
				{getI18nText('descriptions.now.description', currentLocale)}
			</p>
		</div>

		<div class="space-y-8">
			<NowLayout
				title={getI18nText('nowCategories.address', currentLocale)}
				item={nowConfig.address}
			/>
			<NowLayout
				title={getI18nText('nowCategories.reading', currentLocale)}
				items={nowConfig.reading}
			/>
			<NowLayout
				title={getI18nText('nowCategories.sports', currentLocale)}
				items={nowConfig.sports}
			/>
		</div>
	</div>
</PageLayout>
